(this["webpackJsonpkatazzahack.github.io"]=this["webpackJsonpkatazzahack.github.io"]||[]).push([[0],{20:function(e,t,r){e.exports=r.p+"static/media/vir1.321e13a6.png"},25:function(e,t,r){e.exports=r(40)},30:function(e,t,r){},40:function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(10),s=r.n(a),o=r(5),l=r(6),c=r(8),h=r(7),u=r(12),d=r(14),f=(r(30),r(24)),p=r(4),m=r(19),g=r(20),v=r.n(g);r(31);function _(){new p.a({});this.nodes=new p.a({}),this.edges=new p.a({}),this.lifes=new Array([]),this.matrix=new Array,this.network_size=0,this.budget=0,this.network=0,this.prices=[100,200,400],this.options={autoResize:!0,nodes:{borderWidth:4,size:50,color:{border:"#222222",background:"#666666"},font:{color:"#eeeeee"}},edges:{color:"lightgray"},interaction:{dragView:!1}},this.click_type=-1,this.edges_list=new Array,this.nodes_to_change=new Array,this.container=document.getElementById("game-container"),this.take_color={0:"black",1:"red",2:"yellow",3:"green"},this.img_dir="src/images/",this.take_image={3:{0:this.img_dir+"mask1.png",1:this.img_dir+"mask2.png",2:this.img_dir+"mask3.png"},2:{0:this.img_dir+"nomask1.png",1:this.img_dir+"nomask2.png",2:this.img_dir+"nomask3.png"},1:{0:v.a,1:this.img_dir+"vir2.png",2:this.img_dir+"vir3.png"}}}function y(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=new Array(e).fill(1),t[r][r]=0;if(e>10)for(var n=0;n<Math.floor(.5*e*e);n++){var i=Math.floor(Math.random()*e),a=Math.floor(Math.random()*e);t[i][a]=0,t[a][i]=0}return t}function k(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=new Array(e).fill(0);for(var n=new Array(e).fill(0),i=new Array(e).fill(0),a=0;a<e;++a)i[a]=a,n[a]=0;for(var s=function e(t){return t!=i[t]&&(i[t]=e(i[t])),i[t]},o=function(e,r){var a=s(e),o=s(r);if(a===o)return 0;if(n[a]<n[o]){var l=[o,a];a=l[0],o=l[1]}return i[o]=a,n[a]===n[o]&&(n[a]=n[a]+1),t[e][r]=1,t[r][e]=1,1},l=0;l+1<e;){l+=o(Math.floor(Math.random()*e),Math.floor(Math.random()*e))}return t}function w(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=new Array(e).fill(0),t[r][(r+1)%e]=1;for(var n=0;n<e;n++)for(var i=0;i<e;i++)t[n][i]|=t[i][n],t[i][n]|=t[n][i];return t}function b(e){if(e<9)return w(e);for(var t=k(e),r=0;r<e;){var n=Math.floor(Math.random()*e),i=Math.floor(Math.random()*e);0==t[n][i]&&(t[n][i]=1,t[i][n]=1,r++)}return t}function E(e){return new Array(e).fill(Math.floor(3*Math.random()+1))}function M(e){var t=new Array(e).fill(1);return t[Math.floor(Math.random()*e)]=3,t}function O(e){for(var t=new Array(e).fill(0),r=0;r<e;r++)t[r]=Math.floor(3*Math.random()+1);return t}function j(e,t,r,n,i){this.graph=e,this.lifes=t,this.size=r,this.g_type=n,this.l_type=i}_.prototype.get_new_network=function(){var e=function(e,t,r){var n,i;switch(t){case"tree":n=k;break;case"clique":n=y;break;case"circle":n=w;break;default:n=b}switch(r){case"equal":i=E;break;case"onebig":i=M;break;default:i=O}return function(e){for(var t=0,r=function(e){for(var t=0,r=0;r<e.size;r++)t+=100*e.lifes[r];for(var n=[100,200,400],i=0;i<1e4;i++){for(var a=JSON.parse(JSON.stringify(e)),s=0,o=e.size;o>0;){for(var l=Array(o).fill(0),c=0,h=0;h<e.size;h++)a.lifes[h]>0&&(l[c]=h,c++);var u=l[Math.floor(Math.random()*c)],d=Math.floor(3*Math.random()),p=new Set;if(s+=n[d],0===d&&p.add(u),1===d){p.add(u);for(var m=0;m<a.size;m++)1===a.graph[u][m]&&p.add(m)}if(2===d){p.add(u);for(var g=0;g<a.size;g++)if(1===a.graph[u][g]){p.add(g);for(var v=0;v<a.size;v++)1===a.graph[g][v]&&p.add(v)}}var _,y=Object(f.a)(p);try{for(y.s();!(_=y.n()).done;){var k=_.value;if(a.lifes[k]--,0===a.lifes[k]){o--;for(var w=0;w<a.size;w++)a.graph[w][k]=0,a.graph[k][w]=0}}}catch(b){y.e(b)}finally{y.f()}}t=Math.min(t,s)}return t}(e),n=0;n<e.size;n++)for(var i=n+1;i<e.size;i++)t+=e.graph[n][i];var a=new Array(t);t-=1;for(var s=0;s<e.size;s++)for(var o=s+1;o<e.size;o++)1===e.graph[s][o]&&(a[t]=[s,o],t-=1);return e.graph=a,e.budget=r,e}(new j(n(e),i(e),e,t,r))}(Math.floor(20*Math.random())+5,["tree","random","clique","circle"][Math.floor(4*Math.random())],["unique","random","onebig"][Math.floor(3*Math.random())]);this.budget=e.budget,this.lifes=JSON.parse(JSON.stringify(e.lifes));var t=JSON.parse(JSON.stringify(e.graph));this.edges_list=t.slice(),this.types=new Array,this.matrix=new Array,this.network_size=this.lifes.length;for(var r=0;r<this.network_size;++r)this.types.push(Math.floor(3*Math.random())),this.matrix.push(new Array);for(var n=0;n<t.length;n++)0!=this.lifes[t[n][0]]&&0!=this.lifes[t[n][1]]&&(this.matrix[t[n][0]].push(t[n][1]),this.matrix[t[n][1]].push(t[n][0]))},_.prototype.draw_network=function(){for(var e=0;e<this.network_size;e++)0!=this.lifes[e]&&this.nodes.add({id:e+1,label:"",image:this.take_image[this.lifes[e]][this.types[e]],shape:"circularImage",border:"1",borderWidthSelected:"10",color:this.take_color[this.lifes[e]]});for(var t=0;t<this.edges_list.length;t++)this.edges.add({from:this.edges_list[t][0]+1,to:this.edges_list[t][1]+1,color:"blue"});var r={nodes:this.nodes,edges:this.edges};this.network=new m.a(this.container,r,this.options)},_.prototype.set_click_type=function(e){this.click_type=e},_.prototype.on_node_selected=function(e){var t=e.nodes[0]-1;console.log(t)},_.prototype.on_click=function(e){if(this.click_type=2,0!=e.nodes.length){var t=e.nodes[0]-1;if(console.log("Selected node: "+t),this.budget<this.prices[this.click_type])return alert("Not enough money"),1;if(!(this.click_type in[0,1,2]))return alert("Please select a click type"),1;var r=new Array;r.push(t);for(var n=0;n<this.click_type;++n)for(var i=r.length,a=0;a<i;++a)for(var s=r[a],o=0;o<this.matrix[s].length;++o){var l=this.matrix[s][o];r.includes(l)||r.push(l)}console.log(r),this.decrease_life(r),this.redraw_network(),this.budget=this.budget-this.prices[this.click_type]}},_.prototype.decrease_life=function(e){this.nodes_to_change=new Array;for(var t=0;t<e.length;t++)this.lifes[e[t]]=this.lifes[e[t]]-1,this.nodes_to_change.push(e[t]);for(var r=new Array,n=0;n<this.edges_list.length;++n)0!=this.lifes[this.edges_list[n][0]]&&0!=this.lifes[this.edges_list[n][1]]&&r.push(this.edges_list[n].slice());this.edges_list=new Array;for(var i=0;i<r.length;i++)this.edges_list.push(r[i].slice());this.matrix=new Array;for(var a=0;a<this.network_size;++a)this.matrix.push(new Array);for(var s=0;s<this.edges_list.length;s++)0!=this.lifes[this.edges_list[s][0]]&&0!=this.lifes[this.edges_list[s][1]]&&(this.matrix[this.edges_list[s][0]].push(this.edges_list[s][1]),this.matrix[this.edges_list[s][1]].push(this.edges_list[s][0]))},_.prototype.redraw_network=function(){for(var e=0;e<this.network_size;++e)this.nodes_to_change.includes(e)&&(0==this.lifes[e]?this.nodes.remove({id:e+1}):this.nodes.update([{id:e+1,image:this.take_image[this.lifes[e]][this.types[e]],color:this.take_color[this.lifes[e]]}]))},_.prototype.add_public_notice=function(){document.getElementById("public-notice").text="Your current budget is:"+this.budget},_.prototype.init_listeners=function(){this.network.on("selectNode",this.on_node_selected),this.network.on("click",this.on_click.bind(this))},_.prototype.prepare=function(){this.get_new_network()},_.prototype.start=function(){this.prepare(),this.draw_network(),this.init_listeners(),this.add_public_notice()},_.prototype.setzero=function(){this.set_click_type(0)},_.prototype.setone=function(){this.set_click_type(1)},_.prototype.settwo=function(){this.set_click_type(2)};var z=_,A=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(e){return Object(o.a)(this,r),t.call(this,e)}return Object(l.a)(r,[{key:"render",value:function(){return i.a.createElement("div",{id:"game-container"}," Game should be here ")}},{key:"componentDidMount",value:function(){this.graph=new z,this.graph.start()}}]),r}(i.a.Component),x=r(21),S=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return i.a.createElement(x.a,{size:"sm"},this.renderButton(0,"Small"),this.renderButton(1,"Medium"),this.renderButton(2,"Large"))}},{key:"renderButton",value:function(e,t){var r=this;return i.a.createElement(C,{button_name:t,onClick:function(){return r.handleClick(e)}})}},{key:"handleClick",value:function(e){console.log("button "+e+" was pressed")}}]),r}(i.a.Component),C=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return i.a.createElement(u.a,{onClick:function(){return e.props.onClick()}},this.props.button_name)}}]),r}(i.a.Component),B=S,N=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).state={game_started:!1},n}return Object(l.a)(r,[{key:"onGameEnd",value:function(){this.setState({game_started:!1})}},{key:"onGameStart",value:function(){console.log("game started"),this.setState({game_started:!0})}},{key:"render",value:function(){var e,t=this;return e=this.state.game_started?i.a.createElement(A,{onEnd:function(){return t.OnGameEnd()}}):i.a.createElement(u.a,{onClick:function(){return t.onGameStart()}}," \u041d\u0430\u0447\u043d\u0438 \u0431\u043b\u044f\u0442\u044c \u0438\u0433\u0440\u0443 "),i.a.createElement("main",null,i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(d.a,{className:"justify-content-center",justify:"true"},i.a.createElement(d.a.Item,null,i.a.createElement("div",{id:"stats_id"}," Stats ")),i.a.createElement(d.a.Item,null,i.a.createElement("div",{id:"budget_id"}," Current Budget ")),i.a.createElement(d.a.Item,null,i.a.createElement(B,null))),i.a.createElement("br",null),i.a.createElement("br",null),e)}}]),r}(i.a.Component),J=document.querySelector("#content");s.a.render(i.a.createElement(N),J);var I=N,q=r(23),G=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(e){var n;return Object(o.a)(this,r),(n=t.call(this,e)).state={open:!1},n}return Object(l.a)(r,[{key:"render",value:function(){var e=this;return i.a.createElement("header",null,i.a.createElement(u.a,{onClick:function(){return e.setState({open:!e.state.open})},"aria-controls":"example-collapse-text","aria-expanded":this.state.open},"Rules"),i.a.createElement(q.a,{in:this.state.open},i.a.createElement("div",{id:"example-collapse-text"},"Rules will be here.")))}}]),r}(i.a.Component),W=function(e){Object(c.a)(r,e);var t=Object(h.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return i.a.createElement("footer",null,i.a.createElement("div",{id:"public-notice",class:"container"},i.a.createElement("a",{href:"https://www.freepik.com/free-photos-vectors/design"},"Design vector created by freepik - www.freepik.com")))}}]),r}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(39);s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(G,null),i.a.createElement(I,null),i.a.createElement(W,null)),document.getElementById("content")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.77b88599.chunk.js.map